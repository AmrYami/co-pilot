S3_LINK=

#local server
#ENVIRONMENT=local
MODEL_PATH=/var/www/longchain/models/sqlcoder70b-exl2-4bit
CLARIFIER_MODEL_PATH=/var/www/longchain/models/Meta-Llama-3.1-8B-Instruct
CLARIFIER_OFFLOAD_FP32=1
CLARIFIER_DEVICE=cpu
#CLARIFIER_MODEL_BACKEND=hf-4bit
CLARIFIER_MODEL_BACKEND=off
CLARIFIER_DEVICE_MAP=cpu
CLARIFIER_LOW_CPU_MEM=1
CLARIFIER_QUANT_TYPE=nf4
CLARIFIER_COMPUTE_DTYPE=float32
#CUDA_VISIBLE_DEVICES=0
#MODEL_BACKEND=exllama
#GENERATION_MAX_NEW_TOKENS=256
#GENERATION_TEMPERATURE=0.2
#GENERATION_TOP_P=0.9
#STOP=</s>,<|im_end|>
#MODEL_MAX_SEQ_LEN=4096
#LLM_GPU="0,1"
#GPU_SPLIT="30,10"
#MODEL_MODE=4bit
#EXL2_HEADROOM_GB_PRIMARY=2.0
#EXL2_HEADROOM_GB_SECONDARY=0.25
#EXL2_GPU_SPLIT_GB=24
#EXL2_CACHE_MAX_SEQ_LEN=1024
#EXL2_FALLBACK_ON_ALLOCATION_ERROR=0
#PYTORCH_ALLOC_CONF=expandable_segments:True,max_split_size_mb:64

EXL2_CACHE_MAX_SEQ_LEN=2048
# -- General Settings --
ENVIRONMENT=local
MODEL_BACKEND=exllama
MODEL_MAX_SEQ_LEN=4096


# -- GPU Settings --
# Use LLM_GPU to make both GPUs visible to the app.
# Your model_loader.py will handle this correctly.

# Define the model split in Gigabytes (GB).
# This allocates 36GB to GPU 0 (your 5090) and 10GB to GPU 1 (your 3060).
#GPU_SPLIT="27,8"

# -- Generation Settings --
GENERATION_MAX_NEW_TOKENS=256
GENERATION_TEMPERATURE=0.2
GENERATION_TOP_P=0.9
STOP=</s>,<|im_end|>

# -- Pytorch Allocator --
# This can help with memory fragmentation.
PYTORCH_ALLOC_CONF=expandable_segments:True,max_split_size_mb:64

# Let loader compute split from real VRAM
# Cache & limits
# Fallback if exl2 can't fit
RESERVE_VRAM_GB=1
LLM_GPU=0,1
#TORCH_CUDA_ARCH_LIST="8.6;9.0+PTX"
TORCH_CUDA_ARCH_LIST=8.6;9.0+PTX
#CMAKE_CUDA_ARCHITECTURES="86;89;90"

#EXL2_GPU_SPLIT_GB=25,8
EXL2_FORCE_BASE=1

# Generation

# (Allocator)




#production server
#ENVIRONMENT=server
##MODEL_BACKEND=hf-fp16
#MODEL_BACKEND=hf-8bit
#MODEL_PATH=/models/sqlcoder-70b-alpha
#DEVICE_MAP=auto
#TORCH_DTYPE=bfloat16

FLASK_DEBUG=0

MEMORY_DB_URL="postgresql+psycopg2://postgres:123456789@localhost/copilot_mem_dev"

FA_DB_URL="mysql+pymysql://root:123456789@localhost/frontaccounting_bk?charset=utf8mb4"


FLASK_APP=main:create_app
#FLASK_APP=main:app

FA_METRICS_PATH="apps/fa/metrics"
FA_JOIN_GRAPH_PATH="apps/fa/join_graph.yaml"


SETTINGS_ADMIN_KEY="Pc|cV{Q|Itr/m8U+d#i}D`(;WzQ{Yj"





# Additional ExLlamaV2 optimizations
EXLLAMA_NO_DISCARD=0
EXLLAMA_CACHE_8BIT=1